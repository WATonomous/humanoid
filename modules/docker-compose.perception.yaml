services:
  perception: # PYTHON
    build: &producer_build
      context: ..
      dockerfile: docker/perception/perception.Dockerfile
    image: perception:latest
    profiles: [deploy]
    command: /bin/bash -c "ros2 launch depth_estimation depth_estimation.launch.py"
    volumes:
      - ${MONO_DIR}/src/samples/python/perception:/root/ament_ws/src/perception
    devices:
      - /dev/bus/usb:/dev/bus/usb